on:
  webhook:
jobs:
  print:
    name: Print
    runs-on: ubuntu-latest
    steps:
      - name: Print Outputs
        env:
          method: ${{ on.webhook.outputs.method }}
          body: ${{ toJson(on.webhook.outputs.body) }}
          headers: ${{ toJson(on.webhook.outputs.headers) }}
        run: |
          echo method: $method
          echo headers $headers
          echo body: $body 
      - name: Slack notification
        uses: Ilshidur/action-slack@2.1.0
        if: on.webhook.outputs.body.text == 'help'
        env:
          bodytext: ${{ on.webhook.outputs.body.text }}
          SLACK_WEBHOOK: ${{ secrets.SLACK_TEST_CHANNEL }}
        with:
          args:
            ":bangbang: Hey, it's me, Che!\n
            I am a fully customizable process automation Bot.\n
            This is a workspace for documentation and manual purposes\n
            \n
            One Love! :fist: :v:\n"
